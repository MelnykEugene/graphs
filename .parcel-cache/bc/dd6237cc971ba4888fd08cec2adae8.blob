!function(){class e{constructor(e){this.id=e,this.degree=0,this.x=100*Math.random()-50,this.y=100*Math.random()-50,this.nextX=this.x,this.nextY=this.y}secondaryConstructor(e){this.neighbors.push(e),this.degree=1,e.neighbors.push(this),e.degree+=1,this.x=Math.random()-.5,this.y=Math.random()-.5,this.nextX=this.x,this.nextY=this.y}}class t{constructor(e,t){this.node1=e,this.node2=t}}class a{constructor(){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map}generateSquare(e){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map;for(let t=0;t<=e-1;t++)for(let n=0;n<=e-1;n++){this.addVertex();n-1>=0&&this.addEdge(t*e+n-1,t*e+n),t-1>=0&&this.addEdge((t-1)*e+n,t*e+n)}}generateSheet(e,t){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map;for(let n=0;n<=e-1;n++)for(let e=0;e<=t-1;e++){this.addVertex();e-1>=0&&this.addEdge(n*t+e-1,n*t+e),n-1>=0&&this.addEdge((n-1)*t+e,n*t+e)}}generateCyllinder(e,t){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map;for(let n=0;n<=e-1;n++)for(let e=0;e<=t-1;e++){this.addVertex();e-1>=0&&this.addEdge(n*t+e-1,n*t+e),n-1>=0&&this.addEdge((n-1)*t+e,n*t+e)}for(let n=0;n<=t-1;n++)this.addEdge(n,(e-1)*t+n)}generateTorus(e,t){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map,this.generateCyllinder(e,t);for(var n=0;n<=e-1;n++)this.addEdge(n*t,n*t+t-1)}generateKlein(e){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map,this.generateCyllinder(e,e);for(var t=0;t<=e-1;t++)console.log(t),this.addEdge(t*e,(e-t)*e-1)}generateMobius(e,t){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map,this.generateSheet(e,t);for(let n=0;n<=e-1;n++)this.addEdge(n*t,(e-n)*t-1)}generateSolidCube(e){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map;for(var t=0;t<=e-1;t++)for(var n=0;n<=e-1;n++)for(var a=0;a<=e-1;a++)this.addVertex(),a-1>=0&&this.addEdge(e*e*t+n*e+a-1,e*e*t+n*e+a),n-1>=0&&this.addEdge(e*e*t+(n-1)*e+a,e*e*t+n*e+a),t-1>=0&&this.addEdge(e*e*(t-1)+n*e+a,e*e*t+n*e+a)}generateCube(e){this.nodes=[],this.edges=[],this.neighbors=new Map,this.degrees=new Map,this.nodeMap=new Map,this.generateSheet(e,4*e);for(var t=0;t<=e-2;t++)for(var n=0;n<=e-2;n++)this.addVertex(),n-1>=0&&this.addEdge(4*e*e+t*(e-1)+n-1,4*e*e+t*(e-1)+n),t-1>=0&&this.addEdge(4*e*e+(t-1)*(e-1)+n,4*e*e+t*(e-1)+n);for(t=0;t<=e-2;t++)this.addEdge(4*(e-1)*e+2*e+1+t,4*e*e+t)}nextId(){return 0==this.nodes.length?0:this.nodes[this.nodes.length-1].id+1}addVertex(){var t=new e(this.nextId());return this.nodes.push(t),this.nodeMap[t.id]=t,t}addEdge(e,n){this.edges.push(new t(this.nodeMap[e],this.nodeMap[n])),void 0===this.neighbors[e]?this.neighbors[e]=[n]:this.neighbors[e].push(n),void 0===this.neighbors[n]?this.neighbors[e]=[e]:this.neighbors[e].push(e),this.nodeMap[e].degree+=1,this.nodeMap[n].degree+=1}}canv=document.getElementById("myCanvas"),canv.width=window.innerWidth,canv.height=window.innerHeight;var s=canv.getContext("2d"),o=(canv.getBoundingClientRect(),new a),d=!1,r=!1;onDegree=()=>{var e=document.getElementById("degree");d=e.checked},onNodeId=()=>{var e=document.getElementById("node_id");r=e.checked},modeChanger=()=>{var e=document.getElementById("shape").value;console.log(e);["solid_cube","square"].includes(e)?h.disabled="disabled":h.disabled="","solid_cube"==e&&(i.max=15,i.value=10,n=10),"square"==e&&(i.max=40,i.value=10,n=10),"sheet"==e&&(i.max=40,h.max=40,i.value=10,h.value=20,n=10,m=20),"cylinder"==e&&(i.max=40,h.max=40,i.value=10,h.value=20,n=10,m=20),"torus"==e&&(i.max=40,h.max=40,i.value=10,h.value=20,n=10,m=20),"klein"==e&&(i.max=40,h.max=40,i.value=30,h.value=15,n=30,m=15),"mobius"==e&&(i.max=40,h.max=40,i.value=10,h.value=20,n=10,m=20),mode=e,generate()},generate=function(){console.log("a"),"solid_cube"==mode&&o.generateSolidCube(n),"square"==mode&&o.generateSquare(n),"sheet"==mode&&o.generateSheet(n,m),"cylinder"==mode&&o.generateCyllinder(n,m),"torus"==mode&&o.generateTorus(n,m),"klein"==mode&&o.generateKlein(n,m),"mobius"==mode&&o.generateMobius(n,m)},n=10,m=20,mode="torus",generate();var i=document.getElementById("width_slider"),h=document.getElementById("height_slider");i.oninput=function(){n=this.value,generate()},h.oninput=function(){m=this.value,generate()};var l,g=()=>{var e;s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,canv.width,canv.height),s.restore(),e=s,o.nodes.forEach((function(t){e.beginPath(),e.fillStyle="black",e.arc(t.x,t.y,5,0,2*Math.PI),e.fill(),e.closePath(),e.font="14px Arial",r&&e.fillText(t.id,t.x+5,t.y-5),e.fillStyle="red",e.font="20px Arial",d&&e.fillText(t.degree,t.x-20,t.y+20)})),function(e,t){e.edges.forEach((function(e){t.beginPath(),t.strokeStyle="black",t.moveTo(e.node1.x,e.node1.y),t.lineTo(e.node2.x,e.node2.y),t.stroke()}))}(o,s)},c=canv.width/2,u=canv.height/2;c=canv.width/2,u=canv.height/2;canv.addEventListener("mousedown",(function(e){document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",c=e.offsetX||e.pageX-canv.offsetLeft,u=e.offsetY||e.pageY-canv.offsetTop,l=s.transformedPoint(c,u),!1}),!1),canv.addEventListener("mousemove",(function(e){if(c=e.offsetX||e.pageX-canv.offsetLeft,u=e.offsetY||e.pageY-canv.offsetTop,!0,l){var t=s.transformedPoint(c,u);s.translate(t.x-l.x,t.y-l.y),g()}}),!1),canv.addEventListener("mouseup",(function(e){l=null}),!1),canv.addEventListener("dblclick",(()=>{s.setTransform(1,0,0,1,0,0);var e=canv.width/2,t=canv.height/2;s.translate(e,t)}));var v=function(e){var t=e.wheelDelta?e.wheelDelta/40:e.detail?-e.detail:0;return t&&function(e){var t=s.transformedPoint(c,u);s.translate(t.x,t.y);var n=Math.pow(1.1,e);s.scale(n,n),s.translate(-t.x,-t.y),g()}(t),e.preventDefault()&&!1};canv.addEventListener("DOMMouseScroll",v,!1),canv.addEventListener("mousewheel",v,!1);var f=function(){(()=>{o.edges.forEach((function(e){if(null==e.node1||null==e.node2)return void console.log("undefined edge");if(e.node1.x==e.node2.x&&e.node1.y==e.node2.y)return void console.log("invalid edge encountered");let t=e.node2.x-e.node1.x,n=e.node2.y-e.node1.y,a=Math.sqrt(t*t+n*n)+1;0==a&&console.log("zero distance encountered");let s=t/a,o=n/a,d=-1*s,r=-1*o;var i=.1;e.node1.nextX+=s*(i*Math.log(a/1)+4*a)*1/60,e.node1.nextY+=o*(i*Math.log(a/1)+4*a)*1/60,e.node2.nextX+=d*(i*Math.log(a/1)+4*a)*1/60,e.node2.nextY+=r*(i*Math.log(a/1)+4*a)*1/60}));for(var e=0;e<o.nodes.length;e++)for(var t=0;t<o.nodes.length;t++){if(e==t)continue;let n=o.nodes[e],a=o.nodes[t];if(null==n||null==a)return void console.log("undefined edge");let s=n.x-a.x,d=n.y-a.y,r=Math.sqrt(s*s+d*d),i=s/r,h=d/r,l=1e3/r;n.nextX+=i*l*1/60,n.nextY+=h*l*1/60}for(e=0;e<o.nodes.length;e++)o.nodes[e].x=o.nodes[e].nextX,o.nodes[e].y=o.nodes[e].nextY})(),g(),requestAnimationFrame(f)};!function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=t.createSVGMatrix();e.getTransform=function(){return n};var a=[],s=e.save;e.save=function(){return a.push(n.translate(0,0)),s.call(e)};var o=e.restore;e.restore=function(){return n=a.pop(),o.call(e)};var d=e.scale;e.scale=function(t,a){return n=n.scaleNonUniform(t,a),d.call(e,t,a)};var r=e.rotate;e.rotate=function(t){return n=n.rotate(180*t/Math.PI),r.call(e,t)};var i=e.translate;e.translate=function(t,a){return n=n.translate(t,a),i.call(e,t,a)};var h=e.transform;e.transform=function(a,s,o,d,r,i){var l=t.createSVGMatrix();return l.a=a,l.b=s,l.c=o,l.d=d,l.e=r,l.f=i,n=n.multiply(l),h.call(e,a,s,o,d,r,i)};var l=e.setTransform;e.setTransform=function(t,a,s,o,d,r){return n.a=t,n.b=a,n.c=s,n.d=o,n.e=d,n.f=r,l.call(e,t,a,s,o,d,r)};var g=t.createSVGPoint();e.transformedPoint=function(e,t){return g.x=e,g.y=t,g.matrixTransform(n.inverse())}}(s);var p=canv.width/2,x=canv.height/2;s.translate(p,x),f()}();
//# sourceMappingURL=index.HASH_REF_7e2d2507b48b9b2464ec4faabcf5a8b0.js.map
