{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node.js","webpack:///./graph.js","webpack:///./codeFromGraph.js","webpack:///./edge.js","webpack:///./index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Node","id","_classCallCheck","this","neighbors","degree","x","y","nextX","nextY","neighbor","push","Math","random","Graph","nodes","edges","encoding","max","apply","map","newnode","indexOfNeighbor","floor","length","_node2","default","nextId","secondaryConstructor","console","log","_edge2","indexToRemove","pop","index","indexOf","splice","edge","node1","node2","graphFromEncoding","codeFromGraph","graph","graphCopy","result","u","smallestLeaf","smallestNeighbor","reduce","_graph","copyGraph","_graph2","addVertex","addVertexId","j","noder","vertex","min","indexinArrayToRemove","_node","Edge","_codeFromGraph","canv","document","getElementById","context","getContext","getBoundingClientRect","code","onclick","innerHTML","removeVertex","generateMany","oninput","number","updateNDraw","forEach","undefined","radiusx","radiusy","distance","sqrt","unitradiusx","unitradiusy","minusradiusx","minusradiusy","node","magnitude","clearRect","width","height","beginPath","fillStyle","arc","PI","fill","closePath","font","fillText","drawNodes","strokeStyle","moveTo","lineTo","stroke","drawEdges","mainLoop","setTimeout"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","export default class Node{\n\tconstructor(id){\n\t\tthis.id=id;\n\t\tthis.neighbors=[];\n\t\tthis.degree=0;\n\t\tthis.x=840/2;\n\t\tthis.y=1050/2;\n\t\tthis.nextX=this.x;\n\t\tthis.nextY=this.y;\n\t}\n\n\tsecondaryConstructor(neighbor){\n\t\tthis.neighbors.push(neighbor);\n\t\tthis.degree = 1;\n\t\tneighbor.neighbors.push(this);\n\t\tneighbor.degree += 1;\n\t\tthis.x=Math.random()*1680;\n\t\tthis.y=Math.random()*1050;\n\t\tthis.nextX=this.x;\n\t\tthis.nextY=this.y;\n\t}\n}\n","import Node from \"./node.js\";\nimport Edge from \"./edge.js\";\n\nexport default class Graph{\t\n\tconstructor() {\n\t\tthis.nodes = [];\n\t\tthis.edges = [];\n\t\tthis.encoding = [];\n\t}\n\n\tnextId(){\n\t\treturn Math.max.apply(Math,this.nodes.map(x=>x.id))+1;\n\t}\n\n\taddVertex(){\n\t\tvar indexOfNeighbor = Math.floor(Math.random()*(this.nodes.length));\n\t\tvar newnode;\n\t\tif (this.nodes.length==0){\n\t\t\tnewnode = new Node(0);\n\t\t}\n\t\telse {\n\t\t\tnewnode=new Node(this.nextId());\n\t\t\tnewnode.secondaryConstructor(this.nodes[indexOfNeighbor]);\n\t\t\tthis.encoding.push(indexOfNeighbor);\n\t\t\tconsole.log(\"pushed \"+indexOfNeighbor);\n\t\t}\n\n\t\tthis.nodes.push(newnode);\n\n\t\tif (this.nodes.length!=1){\n\t\t\tthis.edges.push(new Edge(this.nodes[indexOfNeighbor],this.nodes[newnode.id]));\n\t\t}\n\t}\n\n\taddVertexId(id){\n\t\tvar newnode;\n\t\t\n\t\tnewnode=new Node(this.nextId());\n\t\tnewnode.secondaryConstructor(this.nodes[id]);\n\t\tthis.nodes.push(newnode);\n\n\t\tif (this.nodes.length!=1){\n\t\t\tthis.edges.push(new Edge(this.nodes[id],this.nodes[newnode.id]));\n\t\t}\n\t}\n\n\tremoveVertex(){\n\t\tlet indexToRemove = this.nextId()-1;\n\t\tthis.encoding.pop();\n\n\t\tfor(var i =0;i<this.nodes[indexToRemove].neighbors.length;i++){\n\t\t\tvar neighbor=this.nodes[indexToRemove].neighbors[i];\n\t\t\tneighbor.degree -=1;\n\t\t\tlet index = neighbor.neighbors.indexOf(this.nodes[indexToRemove]);\n\t\t\tneighbor.neighbors.splice(index,1);\n\t\t}\n\n\t\tfor(var i =0; i<this.edges.length;i++){\n\t\t\tvar edge = this.edges[i];\n\t\t\tif (edge.node1.id==indexToRemove || edge.node2.id==indexToRemove){\n\t\t\t\tthis.edges.splice(i,1);\n\t\t\t\tconsole.log(\"removed edge\");\n\t\t\t}\n\t\t};\n\n    \tthis.nodes.splice(indexToRemove, 1);\n\t}\n}","import Graph from './graph.js';\n\nexport function graphFromEncoding(encoding){\n\tvar copyGraph = new Graph();\n\tcopyGraph.addVertex();\n\tfor (var i =0;i<encoding.length;i++){\n\t\tcopyGraph.addVertexId(encoding[i]);\n\t}\n\tif (copyGraph.nodes.length-1!=copyGraph.edges.length){\n\t\tthrow(\"incorrect construction from copy\");\n\t}\n\treturn copyGraph;\n}\n\nexport function codeFromGraph(graph){\n\tvar graphCopy=graphFromEncoding(graph.encoding);\n\tvar result='';\n\n\twhile (graphCopy.nodes.length>2){\n\t\tlet u = smallestLeaf(graphCopy);\n\t\tconsole.log(\"smallest leaf id= \"+u.id);\n\t\tlet i = smallestNeighbor(graphCopy,u);\n\t\tconsole.log(\"smallestNeighbor id= \"+i.id);\n\t\tconsole.log(\"\");\n\t\tresult = result + \" \"+i.id;\n\t\treduce(graphCopy,u);\n\t}\n\tconsole.log(result);\n\treturn result;\n}\n\nexport function smallestLeaf(graphCopy){\n\tconsole.log(\"trying to find smallest leaf with \"+graphCopy.nodes.length+\" nodes\");\n\n\tfor(var j =0; j<graphCopy.nodes.length; j++){\n\t\tlet noder = graphCopy.nodes[j];\n\n\t\tif (noder.degree==1) return noder;\n\t}\n\tthrow(\"couldn't find a leaf in smallestLeaf subroutine\");\n}\n\nexport function smallestNeighbor(graphCopy,vertex){\n\tvar id = Math.min.apply(Math,vertex.neighbors.map(x=>x.id));\n\n\tfor (var i =0; i <vertex.neighbors.length; i++){\n\t\tif (vertex.neighbors[i].id == id) return vertex.neighbors[i];\n\t}\n\n\tthrow (\"coudln't find a smallest neighbor in smallestNeighbor subroutine\");\n}\n\nexport function reduce(graphCopy,vertex){\n\tlet indexToRemove = vertex.id;\n\n\tconsole.log(\"remove vertex id \"+vertex.id)\n\n\t\tfor(var i =0;i< vertex.neighbors.length;i++){\n\t\t\tlet neighbor = vertex.neighbors[i];\n\t\t\tneighbor.degree = neighbor.degree - 1;\n\t\t\tlet index = neighbor.neighbors.indexOf(vertex);\n\t\t\tneighbor.neighbors.splice(index,1);\n\t\t}\n\n\t\tfor(var i =0; i<graphCopy.edges.length;i++){\n\t\t\tvar edge = graphCopy.edges[i];\n\t\t\tif (edge.node1.id==indexToRemove || edge.node2.id==indexToRemove){\n\t\t\t\tgraphCopy.edges.splice(i,1);\n\t\t\t\tconsole.log(\"removed edge\");\n\t\t\t}\n\t\t};\n\n\t\tlet indexinArrayToRemove=-1;\n\t\tfor (var i =0; i<graphCopy.nodes.length;i++){\n\t\t\tif (graphCopy.nodes[i].id == vertex.id){\n\t\t\t\tindexinArrayToRemove=i;\n\t\t\t}\n\t\t}\n\n\t\tif (indexinArrayToRemove==-1){\n\t\t\tthrow(\"coudln't find edge-to-remove in array with id = \"+ vertex.id);\n\t\t}\n    \tgraphCopy.nodes.splice(indexinArrayToRemove, 1);\n\t}","import Node from './node.js'\n\nexport default class Edge{\n\tconstructor(node1,node2){\n\t\tif(node1.id>=node2.id){\n\t\t\tthrow(\"invalid edge \"+ node1.id + \" \"+ node2.id);\n\t\t}\n\t\t\n\t\tthis.node1=node1;\n\t\tthis.node2=node2;\n\t}\n}\n","import Graph from \"./graph.js\";\n\nvar canv = document.getElementById(\"myCanvas\");\nvar context = canv.getContext(\"2d\");\nvar rect = canv.getBoundingClientRect();\n\nvar graph = new Graph();\n\nimport {codeFromGraph,smallestLeaf,smallestNeighbor,reduce,graphFromEncoding} from \"./codeFromGraph.js\";\n\nlet code = document.getElementById(\"code\");\n\nvar buttonVertex = document.getElementById(\"addVertex\");\nbuttonVertex.onclick=function(){\n\tgraph.addVertex();\n\tcode.innerHTML=codeFromGraph(graph);\n}\n\nvar buttonVertexRemove = document.getElementById(\"removeVertex\");\nbuttonVertexRemove.onclick=function(){\n\tgraph.removeVertex();\n\tcode.innerHTML=codeFromGraph(graph);\n}\n\nvar generateMany = document.getElementById(\"generateMany\");\ngenerateMany.oninput=function(){\n\tgraph.nodes=[];\n\tgraph.edges=[];\n\tgraph.encoding=[];\n\n\tlet number = generateMany.value;\n\tfor (var i =0;i<number;i++){\n\t\tgraph.addVertex();\n\t}\n\n\tcode.innerHTML=codeFromGraph(graph);\n}\n\nfor (var i =0;i<5;i++){\n\tgraph.addVertex();\n}\ncode.innerHTML=codeFromGraph(graph);\n\nvar graphCopy = graphFromEncoding(graph.encoding);\n\nvar drawNodes = function(graph,context){\n\tgraph.nodes.forEach(function(node){\n\t\tcontext.beginPath();\n\t\tcontext.fillStyle=\"black\";\n\t\tcontext.arc(node.x,node.y,5,0,2*Math.PI);\n\t\tcontext.fill();\n\t\tcontext.closePath();\n\t\tcontext.font=\"14px Arial\";\n\t\tcontext.fillText(node.id,node.x+5,node.y-5);\n\t\tcontext.fillStyle=\"red\";\n\t\tcontext.font=\"20px Arial\";\n\t\tcontext.fillText(node.degree,node.x-20,node.y+20);\n\t})\n}\n\nvar drawEdges = function(graph,context){\n\tgraph.edges.forEach(function(edge){\n\t\tcontext.beginPath();\n\t\tcontext.strokeStyle=\"black\";\n\t\tcontext.moveTo(edge.node1.x,edge.node1.y);\n\t\tcontext.lineTo(edge.node2.x,edge.node2.y);\n\t\tcontext.stroke();\n\t})\n}\n\nvar updateNDraw = function(){\n\tgraph.edges.forEach(function(edge)\n\t\t{\n\t\tif(edge.node1 ==undefined || edge.node2==undefined){\n\t\t\tconsole.log(\"undefined edge\")\n\t\t\treturn;\n\t\t}\n\n\t\tif(edge.node1.x == edge.node2.x && edge.node1.y==edge.node2.y){\n\t\t\tconsole.log(\"invalid edge encountered\")\n\t\t\treturn;\n\t\t}\n\n\t\tlet radiusx = edge.node2.x - edge.node1.x;\n\t\tlet radiusy = edge.node2.y - edge.node1.y;\n\n\t\tlet distance = Math.sqrt(radiusx*radiusx + radiusy*radiusy);\n\n\t\tif (distance ==0 ){\n\t\t\tconsole.log(\"zero distance encountered\");\n\t\t}\n\n\t\tlet unitradiusx = radiusx/distance;\n\t\tlet unitradiusy = radiusy/distance;\n\n\t\tlet minusradiusx=  (-1)* unitradiusx;\n\t\tlet minusradiusy = (-1)* unitradiusy;\n\n\t\tvar c1=0.2;\n\t\tvar c2=40;\n\n\t\tedge.node1.nextX += unitradiusx*(c1*Math.log(distance/c2)+  4*distance) * 1/60;\n\t\tedge.node1.nextY += unitradiusy*(c1*Math.log(distance/c2)+  4*distance) * 1/60;\n\n\t\tedge.node2.nextX += minusradiusx*(c1*Math.log(distance/c2)+ 4*distance) * 1/60;\n\t\tedge.node2.nextY += minusradiusy*(c1*Math.log(distance/c2)+ 4*distance) * 1/60;\n\t\t\t}\t\n\t)\n\n\tfor (var i =0; i <graph.nodes.length;i++){\n\t\tfor(var j =0; j<graph.nodes.length;j++){\n\t\t\tif (i==j) continue;\n\n\t\t\tlet node = graph.nodes[i];\n\t\t\tlet node2 = graph.nodes[j];\n\n\t\t\tif (node ==undefined || node2==undefined){\n\t\t\t\tconsole.log(\"undefined edge\")\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet radiusx = node.x-node2.x;\n\t\t\tlet radiusy = node.y-node2.y;\n\n\t\t\tlet distance = Math.sqrt(radiusx*radiusx + radiusy*radiusy);\n\n\t\t\tlet unitradiusx = radiusx/distance;\n\t\t\tlet unitradiusy = radiusy/distance;\n\n\t\t\tlet magnitude = 1000/(distance);\n\n\t\t\tnode.nextX+= unitradiusx*magnitude*1/60;\n\t\t\tnode.nextY+= unitradiusy*magnitude*1/60;\n\t\t}\n\t}\n\n\tfor (var i =0;i<graph.nodes.length;i++){\n\t\tgraph.nodes[i].x = graph.nodes[i].nextX;\n\t\tgraph.nodes[i].y = graph.nodes[i].nextY;\n\t}\n\n\tcontext.clearRect(0, 0, canv.width, canv.height);\n\n\tdrawNodes(graph,context);\n\tdrawEdges(graph,context);\n\n\n\tif(graph.edges.length!=graph.nodes.length-1){\n\tconsole.log(\"invalid graph construction \" + graph.edges.length);\n\t}\n\tmainLoop();\n}\n\nfunction mainLoop(){\n\tsetTimeout(updateNDraw, 1000/60);\n}\nmainLoop();\n\n"],"sourceRoot":""}