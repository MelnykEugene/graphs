!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();var r=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n,this.neighbors=[],this.degree=0,this.x=420,this.y=525,this.nextX=this.x,this.nextY=this.y}return o(e,[{key:"secondaryConstructor",value:function(e){this.neighbors.push(e),this.degree=1,e.neighbors.push(this),e.degree+=1,this.x=1680*Math.random(),this.y=1050*Math.random(),this.nextX=this.x,this.nextY=this.y}}]),e}();n.default=r},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=d(t(0)),i=d(t(3));function d(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodes=[],this.edges=[],this.encoding=[]}return o(e,[{key:"nextId",value:function(){return Math.max.apply(Math,this.nodes.map(function(e){return e.id}))+1}},{key:"addVertex",value:function(){var e,n=Math.floor(Math.random()*this.nodes.length);0==this.nodes.length?e=new r.default(0):((e=new r.default(this.nextId())).secondaryConstructor(this.nodes[n]),this.encoding.push(n),console.log("pushed "+n)),this.nodes.push(e),1!=this.nodes.length&&this.edges.push(new i.default(this.nodes[n],this.nodes[e.id]))}},{key:"addVertexId",value:function(e){var n;(n=new r.default(this.nextId())).secondaryConstructor(this.nodes[e]),this.nodes.push(n),1!=this.nodes.length&&this.edges.push(new i.default(this.nodes[e],this.nodes[n.id]))}},{key:"removeVertex",value:function(){var e=this.nextId()-1;this.encoding.pop();for(var n=0;n<this.nodes[e].neighbors.length;n++){var t=this.nodes[e].neighbors[n];t.degree-=1;var o=t.neighbors.indexOf(this.nodes[e]);t.neighbors.splice(o,1)}for(n=0;n<this.edges.length;n++){var r=this.edges[n];r.node1.id!=e&&r.node2.id!=e||(this.edges.splice(n,1),console.log("removed edge"))}this.nodes.splice(e,1)}}]),e}();n.default=s},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.graphFromEncoding=d,n.codeFromGraph=function(e){var n=d(e.encoding),t="";for(;n.nodes.length>2;){var o=s(n);console.log("smallest leaf id= "+o.id);var r=a(n,o);console.log("smallestNeighbor id= "+r.id),console.log(""),t=t+" "+r.id,l(n,o)}return console.log(t),t},n.smallestLeaf=s,n.smallestNeighbor=a,n.reduce=l;var o,r=t(1),i=(o=r)&&o.__esModule?o:{default:o};function d(e){var n=new i.default;n.addVertex();for(var t=0;t<e.length;t++)n.addVertexId(e[t]);if(n.nodes.length-1!=n.edges.length)throw"incorrect construction from copy";return n}function s(e){console.log("trying to find smallest leaf with "+e.nodes.length+" nodes");for(var n=0;n<e.nodes.length;n++){var t=e.nodes[n];if(1==t.degree)return t}throw"couldn't find a leaf in smallestLeaf subroutine"}function a(e,n){for(var t=Math.min.apply(Math,n.neighbors.map(function(e){return e.id})),o=0;o<n.neighbors.length;o++)if(n.neighbors[o].id==t)return n.neighbors[o];throw"coudln't find a smallest neighbor in smallestNeighbor subroutine"}function l(e,n){var t=n.id;console.log("remove vertex id "+n.id);for(var o=0;o<n.neighbors.length;o++){var r=n.neighbors[o];r.degree=r.degree-1;var i=r.neighbors.indexOf(n);r.neighbors.splice(i,1)}for(o=0;o<e.edges.length;o++){var d=e.edges[o];d.node1.id!=t&&d.node2.id!=t||(e.edges.splice(o,1),console.log("removed edge"))}var s=-1;for(o=0;o<e.nodes.length;o++)e.nodes[o].id==n.id&&(s=o);if(-1==s)throw"coudln't find edge-to-remove in array with id = "+n.id;e.nodes.splice(s,1)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,r=t(0);(o=r)&&o.__esModule;n.default=function e(n,t){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n.id>=t.id)throw"invalid edge "+n.id+" "+t.id;this.node1=n,this.node2=t}},function(e,n,t){"use strict";var o,r=t(1),i=(o=r)&&o.__esModule?o:{default:o},d=t(2);var s=document.getElementById("myCanvas"),a=s.getContext("2d"),l=(s.getBoundingClientRect(),new i.default),u=document.getElementById("code");document.getElementById("addVertex").onclick=function(){l.addVertex(),u.innerHTML=(0,d.codeFromGraph)(l)},document.getElementById("removeVertex").onclick=function(){l.removeVertex(),u.innerHTML=(0,d.codeFromGraph)(l)};var c=document.getElementById("generateMany");c.oninput=function(){l.nodes=[],l.edges=[],l.encoding=[];for(var e=c.value,n=0;n<e;n++)l.addVertex();u.innerHTML=(0,d.codeFromGraph)(l)};for(var h=0;h<5;h++)l.addVertex();u.innerHTML=(0,d.codeFromGraph)(l);(0,d.graphFromEncoding)(l.encoding);var f=function(){l.edges.forEach(function(e){if(void 0!=e.node1&&void 0!=e.node2)if(e.node1.x!=e.node2.x||e.node1.y!=e.node2.y){var n=e.node2.x-e.node1.x,t=e.node2.y-e.node1.y,o=Math.sqrt(n*n+t*t);0==o&&console.log("zero distance encountered");var r=n/o,i=t/o,d=-1*r,s=-1*i;e.node1.nextX+=r*(.2*Math.log(o/40)+4*o)*1/60,e.node1.nextY+=i*(.2*Math.log(o/40)+4*o)*1/60,e.node2.nextX+=d*(.2*Math.log(o/40)+4*o)*1/60,e.node2.nextY+=s*(.2*Math.log(o/40)+4*o)*1/60}else console.log("invalid edge encountered");else console.log("undefined edge")});for(var e=0;e<l.nodes.length;e++)for(var n=0;n<l.nodes.length;n++)if(e!=n){var t=l.nodes[e],o=l.nodes[n];if(void 0==t||void 0==o)return void console.log("undefined edge");var r=t.x-o.x,i=t.y-o.y,d=Math.sqrt(r*r+i*i),u=r/d,c=i/d,h=1e3/d;t.nextX+=u*h*1/60,t.nextY+=c*h*1/60}for(e=0;e<l.nodes.length;e++)l.nodes[e].x=l.nodes[e].nextX,l.nodes[e].y=l.nodes[e].nextY;a.clearRect(0,0,s.width,s.height),function(e,n){e.nodes.forEach(function(e){n.beginPath(),n.fillStyle="black",n.arc(e.x,e.y,5,0,2*Math.PI),n.fill(),n.closePath(),n.font="14px Arial",n.fillText(e.id,e.x+5,e.y-5),n.fillStyle="red",n.font="20px Arial",n.fillText(e.degree,e.x-20,e.y+20)})}(l,a),function(e,n){e.edges.forEach(function(e){n.beginPath(),n.strokeStyle="black",n.moveTo(e.node1.x,e.node1.y),n.lineTo(e.node2.x,e.node2.y),n.stroke()})}(l,a),l.edges.length!=l.nodes.length-1&&console.log("invalid graph construction "+l.edges.length),g()};function g(){setTimeout(f,1e3/60)}g()}]);
//# sourceMappingURL=app.bundle.js.map